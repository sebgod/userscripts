<!--pas
WebResponse.Header['Cache-Control'] := 'no-cache';

uses System.Info;
uses FormatHelper;

function Bar(const d : MemoryStatusDetail) : String;
begin
    var ratio := Format('%d%%', [100-Round(100*d.Available/d.Total)]); 
    Result := Format('<div class="bar"><div class="barfill" style="width: %0:s;">%0:s</div></div>', [ratio]);
end;

var ms := new MemoryStatus;

?-->
<table cellspacing="0" cellpadding="6">
    <thead>
        <tr>
            <th>Memory</th>
            <th>Available</th>
            <th>Total</th>
            <th>Ratio</th>
        </tr>
        <tr>
            <td>Physical</td>
            <td><!--pas=FormatMiB(ms.Physical.Available)?--></td>
            <td><!--pas=FormatMiB(ms.Physical.Total)?--></td>
            <td><!--pas=Bar(ms.Physical)?--></td>
        </tr>
    <thead>
    <tbody>
        <tr>
            <td>Virtual</td>
            <td><!--pas=FormatMiB(ms.Virtual.Available)?--></td>
            <td><!--pas=FormatMiB(ms.Virtual.Total)?--></td>
            <td><!--pas=Bar(ms.Virtual)?--></td>
        </tr>
        <tr>
            <td>PageFile</td>
            <td><!--pas=FormatMiB(ms.PageFile.Available)?--></td>
            <td><!--pas=FormatMiB(ms.PageFile.Total)?--></td>
            <td><!--pas=Bar(ms.PageFile)?--></td>
        </tr>
    </tbody>
</table>
